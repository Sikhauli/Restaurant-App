{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Header from \"../components/Header\";\nimport { auth } from \"../config/firebase\";\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      errMsg = _useState2[0],\n      setErrMsg = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmPassword = _useState8[0],\n      setConfirmPassword = _useState8[1];\n\n  useEffect(function () {\n    if (auth.currentUser) {\n      navigation.navigate('Home');\n    }\n  }, []);\n\n  var registerWithEmail = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (email === '') {\n        setErrMsg('Email is required to register');\n        alert('Email is required to register');\n      } else {\n        if (password === '') {\n          setErrMsg('Password is required to register');\n        } else {\n          if (confirmPassword === '') {\n            setErrMsg('Confirm password is required to register');\n          } else {\n            if (password !== confirmPassword) {\n              setErrMsg('Passwords entered does not match');\n            } else {\n              yield createUserWithEmailAndPassword(auth, email, password).then(function (userCridential) {\n                setErrMsg('');\n                navigation.navigate('Home');\n              }).catch(function (err) {\n                setErrMsg(err.message);\n              });\n            }\n          }\n        }\n      }\n    });\n\n    return function registerWithEmail() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Header, {\n      title: \"Register\"\n    }), errMsg !== '' ? _jsx(View, {\n      children: _jsx(Text, {\n        style: styles.badErr,\n        children: errMsg\n      })\n    }) : _jsx(View, {\n      children: _jsx(Text, {\n        style: styles.goodErr\n      })\n    }), _jsxs(View, {\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Email\"\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return setEmail(value);\n          }\n        })]\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Password:\"\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return setPassword(value);\n          }\n        })]\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Confirm Password:\"\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return setConfirmPassword(value);\n          }\n        })]\n      }), _jsx(Button, {\n        title: \"Register\",\n        onPress: registerWithEmail\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Already have an account?\"\n        }), _jsx(Button, {\n          title: \"Login\",\n          onPress: function onPress() {\n            return navigation.navigate('Login');\n          }\n        })]\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    padding: 15\n  },\n  badErr: {\n    backgroundColor: '#ff0000',\n    color: '#ffffff'\n  }\n});\nexport default SignUp;","map":{"version":3,"names":["React","useState","useEffect","Header","auth","createUserWithEmailAndPassword","SignUp","navigation","errMsg","setErrMsg","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","currentUser","navigate","registerWithEmail","alert","then","userCridential","catch","err","message","styles","container","badErr","goodErr","value","StyleSheet","create","padding","backgroundColor","color"],"sources":["/Users/rofhiwa/Desktop/react-native-auth/restuarant/src/components/signup.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TextInput, Button } from 'react-native';\nimport Header from '../components/Header';\nimport { auth } from '../config/firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\n\nconst SignUp = ({navigation}) => {\n    //states for error\n    const [errMsg, setErrMsg] = useState('');\n\n    //states for new user\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n\n    useEffect(()=>{\n        if (auth.currentUser) {\n            navigation.navigate('Home');\n        } \n    }, [])\n\n    //function to register new user with email and password\n    const registerWithEmail = async() => {\n        //check if inputs are empty\n        if (email === '') {\n            //email empty\n            setErrMsg('Email is required to register');\n            alert('Email is required to register');\n        } else {\n            if (password === '') {\n                //new password empty\n                setErrMsg('Password is required to register');\n            } else {\n                if (confirmPassword === '') {\n                    //confirm password empty\n                    setErrMsg('Confirm password is required to register');\n                } else {\n                    if (password !== confirmPassword) {\n                        //pasword does not match\n                        setErrMsg('Passwords entered does not match');\n                    } else {\n                        //good to go\n                        await createUserWithEmailAndPassword(auth, email, password).then(\n                            userCridential => {\n                                setErrMsg('');\n                                navigation.navigate('Home');\n                            }\n                        ).catch(\n                            err => {\n                                setErrMsg(err.message);\n                            }\n                        )\n                    }\n                }\n            }\n        }\n    }\n  return (\n    \n    <View style={styles.container}>\n        <Header title='Register' />\n        {errMsg !== '' ? (<View><Text style={styles.badErr}>{errMsg}</Text></View>) : (<View><Text style={styles.goodErr}></Text></View>) }\n        <View>\n            <View>\n                <Text>Email</Text>\n                <TextInput onChangeText={value => setEmail(value)} />\n            </View>\n\n            <View>\n                <Text>Password:</Text>\n                <TextInput onChangeText={value => setPassword(value)} />\n            </View>\n\n            <View>\n                <Text>Confirm Password:</Text>\n                <TextInput onChangeText={value => setConfirmPassword(value)} />\n            </View>\n            <Button title='Register' onPress={registerWithEmail} />\n            <View>\n                <Text>Already have an account?</Text>\n                <Button title='Login' onPress={() => navigation.navigate('Login')} />\n            </View>\n\n        </View>\n    </View>\n\n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        padding: 15,\n    },\n    badErr: {\n        backgroundColor: '#ff0000',\n        color: '#ffffff',\n    },\n})\n\nexport default SignUp"],"mappings":"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"},"metadata":{},"sourceType":"module"}