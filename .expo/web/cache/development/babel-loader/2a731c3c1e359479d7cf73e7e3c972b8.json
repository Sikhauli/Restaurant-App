{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Header from \"./Header\";\nimport { auth } from \"../config/firebase\";\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errMsg = _useState6[0],\n      setErrMsg = _useState6[1];\n\n  useEffect(function () {\n    if (auth.currentUser) {\n      navigation.navigate('Home');\n    }\n  }, []);\n\n  var loginWithEmail = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (email === '') {\n        setErrMsg('Email is required to log in');\n      } else {\n        if (password === '') {\n          setErrMsg('Password is required to login');\n        } else {\n          yield signInWithEmailAndPassword(auth, email, password).then(function (userCridential) {\n            navigation.navigate('Home');\n          }).catch(function (err) {\n            setErrMsg(err.message);\n          });\n        }\n      }\n    });\n\n    return function loginWithEmail() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Header, {\n      title: \"Login\"\n    }), _jsx(View, {\n      children: errMsg === '' ? _jsx(Text, {\n        style: styles.goodErr\n      }) : _jsx(Text, {\n        style: styles.badErr,\n        children: errMsg\n      })\n    }), _jsxs(View, {\n      children: [_jsx(View, {\n        children: _jsx(View, {\n          style: styles.input,\n          children: _jsx(TextInput, {\n            onChangeText: function onChangeText(value) {\n              return setEmail(value);\n            },\n            placeholder: \"Enter Email\"\n          })\n        })\n      }), _jsxs(View, {\n        children: [\": \", _jsx(View, {\n          style: styles.input,\n          children: _jsx(TextInput, {\n            onChangeText: function onChangeText(value) {\n              return setPassword(value);\n            },\n            placeholder: \"Enter Password\"\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.log,\n        children: _jsx(Button, {\n          title: \"Login\",\n          onPress: loginWithEmail\n        })\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Don't have an account?\"\n        }), _jsx(View, {\n          style: styles.reg,\n          children: _jsx(Button, {\n            title: \"SignUp\",\n            onPress: function onPress() {\n              return navigation.navigate('SignUp');\n            }\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    padding: 15,\n    borderWidth: 2\n  },\n  badErr: {\n    backgroundColor: '#ff0000',\n    color: '#ffffff'\n  },\n  log: {\n    flex: 1,\n    width: '35%',\n    height: 15\n  },\n  reg: {\n    flex: 1,\n    width: '15%'\n  },\n  input: {\n    width: '40vw',\n    borderColor: 'gray',\n    height: 30\n  }\n});\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","Header","auth","signInWithEmailAndPassword","Login","navigation","email","setEmail","password","setPassword","errMsg","setErrMsg","currentUser","navigate","loginWithEmail","then","userCridential","catch","err","message","styles","container","goodErr","badErr","input","value","log","reg","StyleSheet","create","padding","borderWidth","backgroundColor","color","flex","width","height","borderColor"],"sources":["/Users/rofhiwa/Desktop/react-native-auth/restuarant/src/components/login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { View, Text, Button, StyleSheet, TextInput } from 'react-native';\nimport Header from './Header';\nimport { auth } from '../config/firebase';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nconst Login = ({navigation}) => {\n   \n\n    //states\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    //error state\n    const [errMsg, setErrMsg] = useState('');\n\n    useEffect(()=>{\n        if (auth.currentUser) {\n            navigation.navigate('Home');\n        }\n    }, [])\n\n    //function to check if the user exist already\n    const loginWithEmail = async() => {\n        if (email === '') {\n            setErrMsg('Email is required to log in');\n        } else {\n            if (password === '') {\n                setErrMsg('Password is required to login')\n            } else {\n                await signInWithEmailAndPassword(auth, email, password).then(\n                    userCridential => {\n                        navigation.navigate('Home')\n                    }\n                ).catch(\n                    err => {\n                        setErrMsg(err.message);\n                    }\n                )\n            }\n        }\n    }\n  return (\n    <View style={styles.container}>\n        <Header title='Login' />\n        <View>\n            {errMsg === '' ? (<Text style={styles.goodErr}></Text>) : (<Text style={styles.badErr}>{errMsg}</Text>)}\n        </View>\n        <View>\n            <View>\n                <View style={styles.input}><TextInput onChangeText={value => setEmail(value)} placeholder=\"Enter Email\" /></View>\n            </View>\n            <View>\n             : <View style={styles.input}><TextInput onChangeText={value => setPassword(value)} placeholder='Enter Password' /></View>\n            </View>\n            <View style={styles.log}>\n                <Button title='Login' onPress={loginWithEmail} />\n            </View>\n            <View>\n                <Text>Don't have an account?</Text>\n                <View style={styles.reg}>\n                    <Button title='SignUp' onPress={() => navigation.navigate('SignUp')} />\n                </View>\n            </View>\n        </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        padding: 15,\n        borderWidth: 2,\n    },\n    badErr: {\n        backgroundColor: '#ff0000',\n        color: '#ffffff',\n    },\n    log: {\n        flex: 1,\n        width: '35%',\n        height: 15,\n    },\n    reg: {\n        flex: 1,\n        width: '15%',\n    },\n    input: {\n        width: '40vw',\n        borderColor: 'gray',\n        height: 30,\n    },\n})\n\nexport default Login"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;AAEA,OAAOC,MAAP;AACA,SAASC,IAAT;AACA,SAASC,0BAAT,QAA2C,eAA3C;;;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAkB;EAAA,IAAhBC,UAAgB,QAAhBA,UAAgB;;EAI5B,gBAA0BN,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOO,KAAP;EAAA,IAAcC,QAAd;;EACA,iBAAgCR,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOS,QAAP;EAAA,IAAiBC,WAAjB;;EAGA,iBAA4BV,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOW,MAAP;EAAA,IAAeC,SAAf;;EAEAX,SAAS,CAAC,YAAI;IACV,IAAIE,IAAI,CAACU,WAAT,EAAsB;MAClBP,UAAU,CAACQ,QAAX,CAAoB,MAApB;IACH;EACJ,CAJQ,EAIN,EAJM,CAAT;;EAOA,IAAMC,cAAc;IAAA,8BAAG,aAAW;MAC9B,IAAIR,KAAK,KAAK,EAAd,EAAkB;QACdK,SAAS,CAAC,6BAAD,CAAT;MACH,CAFD,MAEO;QACH,IAAIH,QAAQ,KAAK,EAAjB,EAAqB;UACjBG,SAAS,CAAC,+BAAD,CAAT;QACH,CAFD,MAEO;UACH,MAAMR,0BAA0B,CAACD,IAAD,EAAOI,KAAP,EAAcE,QAAd,CAA1B,CAAkDO,IAAlD,CACF,UAAAC,cAAc,EAAI;YACdX,UAAU,CAACQ,QAAX,CAAoB,MAApB;UACH,CAHC,EAIJI,KAJI,CAKF,UAAAC,GAAG,EAAI;YACHP,SAAS,CAACO,GAAG,CAACC,OAAL,CAAT;UACH,CAPC,CAAN;QASH;MACJ;IACJ,CAlBmB;;IAAA,gBAAdL,cAAc;MAAA;IAAA;EAAA,GAApB;;EAmBF,OACE,MAAC,IAAD;IAAM,KAAK,EAAEM,MAAM,CAACC,SAApB;IAAA,WACI,KAAC,MAAD;MAAQ,KAAK,EAAC;IAAd,EADJ,EAEI,KAAC,IAAD;MAAA,UACKX,MAAM,KAAK,EAAX,GAAiB,KAAC,IAAD;QAAM,KAAK,EAAEU,MAAM,CAACE;MAApB,EAAjB,GAA0D,KAAC,IAAD;QAAM,KAAK,EAAEF,MAAM,CAACG,MAApB;QAAA,UAA6Bb;MAA7B;IAD/D,EAFJ,EAKI,MAAC,IAAD;MAAA,WACI,KAAC,IAAD;QAAA,UACI,KAAC,IAAD;UAAM,KAAK,EAAEU,MAAM,CAACI,KAApB;UAAA,UAA2B,KAAC,SAAD;YAAW,YAAY,EAAE,sBAAAC,KAAK;cAAA,OAAIlB,QAAQ,CAACkB,KAAD,CAAZ;YAAA,CAA9B;YAAmD,WAAW,EAAC;UAA/D;QAA3B;MADJ,EADJ,EAII,MAAC,IAAD;QAAA,iBACG,KAAC,IAAD;UAAM,KAAK,EAAEL,MAAM,CAACI,KAApB;UAAA,UAA2B,KAAC,SAAD;YAAW,YAAY,EAAE,sBAAAC,KAAK;cAAA,OAAIhB,WAAW,CAACgB,KAAD,CAAf;YAAA,CAA9B;YAAsD,WAAW,EAAC;UAAlE;QAA3B,EADH;MAAA,EAJJ,EAOI,KAAC,IAAD;QAAM,KAAK,EAAEL,MAAM,CAACM,GAApB;QAAA,UACI,KAAC,MAAD;UAAQ,KAAK,EAAC,OAAd;UAAsB,OAAO,EAAEZ;QAA/B;MADJ,EAPJ,EAUI,MAAC,IAAD;QAAA,WACI,KAAC,IAAD;UAAA;QAAA,EADJ,EAEI,KAAC,IAAD;UAAM,KAAK,EAAEM,MAAM,CAACO,GAApB;UAAA,UACI,KAAC,MAAD;YAAQ,KAAK,EAAC,QAAd;YAAuB,OAAO,EAAE;cAAA,OAAMtB,UAAU,CAACQ,QAAX,CAAoB,QAApB,CAAN;YAAA;UAAhC;QADJ,EAFJ;MAAA,EAVJ;IAAA,EALJ;EAAA,EADF;AAyBD,CA7DD;;AA+DA,IAAMO,MAAM,GAAGQ,UAAU,CAACC,MAAX,CAAkB;EAC7BR,SAAS,EAAE;IACPS,OAAO,EAAE,EADF;IAEPC,WAAW,EAAE;EAFN,CADkB;EAK7BR,MAAM,EAAE;IACJS,eAAe,EAAE,SADb;IAEJC,KAAK,EAAE;EAFH,CALqB;EAS7BP,GAAG,EAAE;IACDQ,IAAI,EAAE,CADL;IAEDC,KAAK,EAAE,KAFN;IAGDC,MAAM,EAAE;EAHP,CATwB;EAc7BT,GAAG,EAAE;IACDO,IAAI,EAAE,CADL;IAEDC,KAAK,EAAE;EAFN,CAdwB;EAkB7BX,KAAK,EAAE;IACHW,KAAK,EAAE,MADJ;IAEHE,WAAW,EAAE,MAFV;IAGHD,MAAM,EAAE;EAHL;AAlBsB,CAAlB,CAAf;AAyBA,eAAehC,KAAf"},"metadata":{},"sourceType":"module"}