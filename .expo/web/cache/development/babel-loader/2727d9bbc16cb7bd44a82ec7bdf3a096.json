{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Header from \"./Header\";\nimport { auth } from \"../config/firebase\";\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errMsg = _useState6[0],\n      setErrMsg = _useState6[1];\n\n  useEffect(function () {\n    if (auth.currentUser) {\n      navigation.navigate('Home');\n    }\n  }, []);\n\n  var loginWithEmail = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (email === '') {\n        setErrMsg('Email is required to log in');\n      } else {\n        if (password === '') {\n          setErrMsg('Password is required to login');\n        } else {\n          yield signInWithEmailAndPassword(auth, email, password).then(function (userCridential) {\n            navigation.navigate('Home');\n          }).catch(function (err) {\n            setErrMsg(err.message);\n          });\n        }\n      }\n    });\n\n    return function loginWithEmail() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      children: errMsg === '' ? _jsx(Text, {\n        style: styles.goodErr\n      }) : _jsx(Text, {\n        style: styles.badErr,\n        children: errMsg\n      })\n    }), _jsx(View, {\n      style: styles.top\n    }), _jsx(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(value) {\n        return setEmail(value);\n      },\n      placeholder: \"Enter Email\"\n    }), _jsx(TextInput, {\n      style: styles.input2,\n      onChangeText: function onChangeText(value) {\n        return setPassword(value);\n      },\n      placeholder: \"Enter Password\"\n    }), _jsx(Text, {\n      style: styles.forgot,\n      children: \" Forgot Password? \"\n    }), _jsx(Button, {\n      style: styles.log,\n      title: \"Login\",\n      onPress: loginWithEmail\n    }), _jsx(Text, {\n      style: styles.toReg,\n      children: \"Don't have an account?\"\n    }), _jsx(Button, {\n      style: styles.reg,\n      title: \"SignUp\",\n      onPress: function onPress() {\n        return navigation.navigate('SignUp');\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    marginLeft: 5,\n    borderWidth: 2,\n    width: '550',\n    height: '100vh'\n  },\n  badErr: {\n    backgroundColor: '#ff0000',\n    color: '#ffffff'\n  },\n  log: {\n    flex: 1,\n    width: '35%',\n    height: '15vh',\n    marginLeft: '25vw'\n  },\n  reg: {\n    flex: 1,\n    width: '35%',\n    marginLeft: '25vw'\n  },\n  input: {\n    width: '85vw',\n    borderColor: 'gray',\n    height: 50,\n    borderWidth: 2,\n    marginBottom: 25,\n    borderRadius: 15\n  },\n  input2: {\n    width: '85vw',\n    borderColor: 'gray',\n    height: 50,\n    borderWidth: 2,\n    borderRadius: 15\n  },\n  top: {\n    marginTop: '20vh'\n  },\n  toReg: {\n    marginLeft: '25vw'\n  },\n  forgot: {\n    marginLeft: '53vw',\n    marginBottom: 25\n  }\n});\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","Header","auth","signInWithEmailAndPassword","Login","navigation","email","setEmail","password","setPassword","errMsg","setErrMsg","currentUser","navigate","loginWithEmail","then","userCridential","catch","err","message","styles","container","goodErr","badErr","top","input","value","input2","forgot","log","toReg","reg","StyleSheet","create","padding","marginLeft","borderWidth","width","height","backgroundColor","color","flex","borderColor","marginBottom","borderRadius","marginTop"],"sources":["/Users/rofhiwa/Desktop/react-native-auth/restuarant/src/components/login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { View, Text, Button, StyleSheet, TextInput } from 'react-native';\nimport Header from './Header';\nimport { auth } from '../config/firebase';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport {ScrollView} from 'react-native-web';\nconst Login = ({navigation}) => {\n   \n\n    //states\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    //error state\n    const [errMsg, setErrMsg] = useState('');\n\n    useEffect(()=>{\n        if (auth.currentUser) {\n            navigation.navigate('Home');\n        }\n    }, [])\n\n    //function to check if the user exist already\n    const loginWithEmail = async() => {\n        if (email === '') {\n            setErrMsg('Email is required to log in');\n        } else {\n            if (password === '') {\n                setErrMsg('Password is required to login')\n            } else {\n                await signInWithEmailAndPassword(auth, email, password).then(\n                    userCridential => {\n                        navigation.navigate('Home')\n                    }\n                ).catch(\n                    err => {\n                        setErrMsg(err.message);\n                    }\n                )\n            }\n        }\n    }\n  return (\n    <View style={styles.container}>\n  {/* <Header title='Login' /> */}\n        <View>\n            {errMsg === '' ? (<Text style={styles.goodErr}></Text>) : (<Text style={styles.badErr}>{errMsg}</Text>)}\n        </View>\n        <View style={styles.top}></View>\n                <TextInput style={styles.input} onChangeText={value => setEmail(value)} placeholder=\"Enter Email\" />\n                <TextInput style={styles.input2} onChangeText={value => setPassword(value)} placeholder='Enter Password' />\n            \n                <Text style={styles.forgot}> Forgot Password? </Text>\n                <Button style={styles.log} title='Login' onPress={loginWithEmail} />\n           \n                <Text style={styles.toReg}>Don't have an account?</Text>\n\n                <Button style={styles.reg} title='SignUp' onPress={() => navigation.navigate('SignUp')} />\n   \n           \n        </View>\n \n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        padding: 20,\n        marginLeft: 5,\n        borderWidth: 2,\n        width: '550',\n        height: '100vh',        \n\n    },\n    badErr: {\n        backgroundColor: '#ff0000',\n        color: '#ffffff',\n    },\n    log: {\n        flex: 1,\n        width: '35%',\n        height: '15vh',\n        marginLeft: '25vw'\n        \n    },\n    reg: {\n        flex: 1,\n        width: '35%',\n        marginLeft: '25vw'\n\n\n    },\n    input: {\n        width: '85vw',\n        borderColor: 'gray',\n        height: 50,\n        borderWidth: 2,\n        marginBottom: 25,\n        borderRadius: 15,\n\n    },\n\n    input2: {\n        width: '85vw',\n        borderColor: 'gray',\n        height: 50,\n        borderWidth: 2,\n        borderRadius: 15,\n\n    },\n\n    top: {\n\n        marginTop: '20vh'\n\n    },\n    toReg:{\n        marginLeft: '25vw'\n    }, \n    forgot:{\n\n        marginLeft: '53vw',\n        marginBottom: 25,\n        // marginBottom: '10vh'\n  \n    }\n})\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}